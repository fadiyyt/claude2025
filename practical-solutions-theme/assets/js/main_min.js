"use strict";window.PracticalSolutionsApp=function(){let e=!1,t={},n={startTime:Date.now(),initTime:null,systems:{}};const i={debug:!1,enablePerformanceMonitoring:!0,initTimeout:1e4,systems:{utils:{enabled:!0,priority:1},search:{enabled:!0,priority:2,options:{minSearchLength:2,debounceDelay:300,enableAutoComplete:!0,enableHistory:!0,enableInstantSearch:!1}},voiceSearch:{enabled:!0,priority:3,options:{language:"ar-SA",timeout:1e4,autoSubmit:!1,showVisualFeedback:!0}},navigation:{enabled:!0,priority:2,options:{enableStickyHeader:!0,enableBackToTop:!0,enableSmoothScroll:!0,mobileBreakpoint:768}},lazyLoading:{enabled:!0,priority:2,options:{threshold:.5,rootMargin:"50px",enableWebP:!0,placeholderColor:"#f0f4f8"}},performance:{enabled:!0,priority:1,options:{enableCaching:!0,optimizeImages:!0,lazyLoadScripts:!0}}}};let s={};function a(){if(e)return console.warn("Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ù‡ÙŠØ£ Ù…Ø³Ø¨Ù‚Ø§Ù‹"),!0;console.log("ðŸš€ Ø¨Ø¯Ø¡ ØªÙ‡ÙŠØ¦Ø© ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©...");const a=Date.now();s=Object.assign({},i,window.practicalSolutions||{});try{o(),r(),l(),e=!0,n.initTime=Date.now()-a,console.log(`âœ… ØªÙ… ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­ ÙÙŠ ${n.initTime}ms`),function(){const e=Object.keys(t).filter(e=>t[e].initialized).length,i=Object.keys(t).length;console.log(`ðŸ“Š Ø£Ù†Ø¸Ù…Ø© Ù…ÙØ¹Ù„Ø©: ${e}/${i}`),n.systems.initialized=e,n.systems.total=i}()}catch(e){console.error("âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:",e)}return e}function o(){document.addEventListener("DOMContentLoaded",()=>{a(),setTimeout(()=>{c()},100)}),window.addEventListener("load",()=>{d(),s.enablePerformanceMonitoring&&u()})}function r(){const e=Object.keys(s.systems).sort((e,t)=>s.systems[e].priority-s.systems[t].priority);for(const i of e){if(!s.systems[i].enabled)continue;try{f(i)}catch(e){console.error(`Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… ${i}:`,e)}}}function l(){"online"===navigator.onLine&&(h(),g()),window.addEventListener("online",h),window.addEventListener("offline",g)}function c(){const e=document.querySelector(".search-form, .advanced-search-form");e&&(console.log("ðŸ” ØªÙØ¹ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…Ø¯Ù…Ø¬"),e.addEventListener("submit",e=>{const t=e.target.querySelector('input[name="s"]');t&&""===t.value.trim()&&(e.preventDefault(),t.focus())}))}function d(){const e=document.querySelectorAll('img[data-src], iframe[data-src], [data-bg]');e.length>0&&!t.lazyLoading?.initialized&&window.LazyLoading&&(console.log("ðŸ“· ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØ³ÙˆÙ„ Ù„Ù„ØµÙˆØ±"),window.LazyLoading.init());const n=document.querySelector(".back-to-top, #back-to-top");n&&!t.navigation?.initialized&&(console.log("â¬†ï¸ ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ø£Ø¹Ù„Ù‰"),n.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))}function u(){console.log("ðŸ“ˆ ØªÙØ¹ÙŠÙ„ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡");const e={navigation:performance.getEntriesByType("navigation")[0],resources:performance.getEntriesByType("resource").length,memory:performance.memory||null};console.log("Ø£Ø¯Ø§Ø¡ Ø§Ù„ØµÙØ­Ø©:",e),e.navigation&&console.log(`â±ï¸ ÙˆÙ‚Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„: ${Math.round(e.navigation.loadEventEnd-e.navigation.fetchStart)}ms`)}function f(e){const n=s.systems[e];if(!n||!n.enabled)return!1;let a=null,o=!1;switch(e){case"utils":window.PracticalSolutionsUtils&&(a=window.PracticalSolutionsUtils,o=!0);break;case"search":window.PracticalSolutionsSearch&&(a=window.PracticalSolutionsSearch.init(n.options),o=!!a);break;case"voiceSearch":window.VoiceSearch&&(a=window.VoiceSearch.init(n.options),o=!!a);break;case"navigation":window.PracticalSolutionsNavigation&&(a=window.PracticalSolutionsNavigation.init(n.options),o=!!a);break;case"lazyLoading":window.LazyLoading&&(a=window.LazyLoading.init(n.options),o=!!a);break;default:console.warn(`Ù†Ø¸Ø§Ù… ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ: ${e}`)}return t[e]={instance:a,initialized:o,priority:n.priority,options:n.options},o?(console.log(`âœ… ØªÙ… ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… ${e} Ø¨Ù†Ø¬Ø§Ø­`),!0):(console.warn(`âš ï¸ ÙØ´Ù„ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… ${e}`),!1)}function h(){console.log("ðŸŒ ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª"),t.search&&!t.search.initialized&&function(e){try{f(e)&&console.log(`â™»ï¸ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… ${e}`)}catch(t){console.error(`Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¹Ø§Ø¯Ø© ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… ${e}:`,t)}}("search"),t.lazyLoading&&t.lazyLoading.instance&&t.lazyLoading.instance.refresh()}function g(){console.log("ðŸš« ØªÙ… Ù‚Ø·Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª"),function(){Object.keys(t).forEach(e=>{const n=t[e];n.instance&&"function"==typeof n.instance.pause&&n.instance.pause()})}(),window.PracticalSolutionsUtils&&window.PracticalSolutionsUtils.showNotification("ØªÙ… Ù‚Ø·Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª. Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ù‚Ø¯ Ù„Ø§ ØªØ¹Ù…Ù„.","warning")}return{init:a,getSystem:e=>t[e]||null,isInitialized:()=>e,getPerformance:()=>n,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})},toggleMobileMenu:function(){t.navigation&&t.navigation.instance&&t.navigation.instance.toggleMobileMenu()},handleReconnection:h,handleDisconnection:g,destroy:function(){Object.keys(t).forEach(e=>{const n=t[e];n.instance&&"function"==typeof n.instance.destroy&&n.instance.destroy()}),t={},e=!1,console.log("ØªÙ… ØªØ¯Ù…ÙŠØ± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚")}}}(),function(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.PracticalSolutionsApp.init()}):window.PracticalSolutionsApp.init()}();