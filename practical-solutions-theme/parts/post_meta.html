<!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|medium","padding":{"top":"var:preset|spacing|small","bottom":"var:preset|spacing|small"}}},"className":"post-meta-info","layout":{"type":"constrained"}} -->
<div class="wp-block-group post-meta-info">
    
    <!-- الصف الأول - معلومات أساسية -->
    <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|medium"}},"className":"post-meta-primary","layout":{"type":"flex","flexWrap":"wrap","verticalAlignment":"center","justifyContent":"space-between"}} -->
    <div class="wp-block-group post-meta-primary">
        
        <!-- المعلومات الأساسية -->
        <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|small"}},"className":"post-basic-info","layout":{"type":"flex","flexWrap":"wrap","verticalAlignment":"center"}} -->
        <div class="wp-block-group post-basic-info">
            
            <!-- معلومات الكاتب -->
            <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|x-small"}},"className":"author-info","layout":{"type":"flex","flexWrap":"nowrap","verticalAlignment":"center"}} -->
            <div class="wp-block-group author-info">
                
                <!-- wp:avatar {"size":32,"style":{"border":{"radius":"50px"}}} /-->
                
                <!-- wp:group {"style":{"spacing":{"blockGap":"0"}},"layout":{"type":"constrained"}} -->
                <div class="wp-block-group">
                    
                    <!-- wp:paragraph {"style":{"typography":{"fontSize":"0.85rem","fontWeight":"500"}},"textColor":"contrast"} -->
                    <p class="has-contrast-color has-text-color" style="font-size:0.85rem;font-weight:500">
                        بواسطة:
                    </p>
                    <!-- /wp:paragraph -->
                    
                    <!-- wp:post-author-name {"isLink":true,"style":{"typography":{"fontSize":"0.9rem","fontWeight":"600","textDecoration":"none"}},"textColor":"primary"} /-->
                    
                </div>
                <!-- /wp:group -->
                
            </div>
            <!-- /wp:group -->
            
            <!-- فاصل -->
            <!-- wp:html -->
            <span class="meta-separator" style="color: var(--wp--preset--color--base); font-weight: 300;">•</span>
            <!-- /wp:html -->
            
            <!-- تاريخ النشر -->
            <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|x-small"}},"className":"publish-date","layout":{"type":"flex","flexWrap":"nowrap","verticalAlignment":"center"}} -->
            <div class="wp-block-group publish-date">
                
                <!-- wp:html -->
                <svg width="16" height="16" viewBox="0 0 24 24" fill="var(--wp--preset--color--contrast)" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                    <line x1="16" y1="2" x2="16" y2="6"/>
                    <line x1="8" y1="2" x2="8" y2="6"/>
                    <line x1="3" y1="10" x2="21" y2="10"/>
                </svg>
                <!-- /wp:html -->
                
                <!-- wp:post-date {"style":{"typography":{"fontSize":"0.9rem","fontWeight":"500"}},"textColor":"contrast","className":"publish-date-text"} /-->
                
            </div>
            <!-- /wp:group -->
            
            <!-- فاصل -->
            <!-- wp:html -->
            <span class="meta-separator" style="color: var(--wp--preset--color--base); font-weight: 300;">•</span>
            <!-- /wp:html -->
            
            <!-- وقت القراءة المتوقع -->
            <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|x-small"}},"className":"reading-time","layout":{"type":"flex","flexWrap":"nowrap","verticalAlignment":"center"}} -->
            <div class="wp-block-group reading-time">
                
                <!-- wp:html -->
                <svg width="16" height="16" viewBox="0 0 24 24" fill="var(--wp--preset--color--contrast)" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12 6 12 12 16 14"/>
                </svg>
                <!-- /wp:html -->
                
                <!-- wp:html -->
                <span class="reading-time-text" style="font-size: 0.9rem; font-weight: 500; color: var(--wp--preset--color--contrast);">
                    5 دقائق قراءة
                </span>
                <!-- /wp:html -->
                
            </div>
            <!-- /wp:group -->
            
        </div>
        <!-- /wp:group -->
        
        <!-- إحصائيات التفاعل -->
        <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|small"}},"className":"post-engagement","layout":{"type":"flex","flexWrap":"wrap","verticalAlignment":"center"}} -->
        <div class="wp-block-group post-engagement">
            
            <!-- عدد المشاهدات -->
            <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|x-small"}},"className":"post-views","layout":{"type":"flex","flexWrap":"nowrap","verticalAlignment":"center"}} -->
            <div class="wp-block-group post-views">
                
                <!-- wp:html -->
                <svg width="16" height="16" viewBox="0 0 24 24" fill="var(--wp--preset--color--contrast)" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z"/>
                    <circle cx="12" cy="12" r="3"/>
                </svg>
                <!-- /wp:html -->
                
                <!-- wp:html -->
                <span class="views-count" style="font-size: 0.9rem; font-weight: 500; color: var(--wp--preset--color--contrast);">
                    1,234 مشاهدة
                </span>
                <!-- /wp:html -->
                
            </div>
            <!-- /wp:group -->
            
            <!-- فاصل -->
            <!-- wp:html -->
            <span class="meta-separator" style="color: var(--wp--preset--color--base); font-weight: 300;">•</span>
            <!-- /wp:html -->
            
            <!-- عدد التعليقات -->
            <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|x-small"}},"className":"post-comments","layout":{"type":"flex","flexWrap":"nowrap","verticalAlignment":"center"}} -->
            <div class="wp-block-group post-comments">
                
                <!-- wp:html -->
                <svg width="16" height="16" viewBox="0 0 24 24" fill="var(--wp--preset--color--contrast)" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z"/>
                </svg>
                <!-- /wp:html -->
                
                <!-- wp:comments-link {"style":{"typography":{"fontSize":"0.9rem","fontWeight":"500","textDecoration":"none"}},"textColor":"contrast"} /-->
                
            </div>
            <!-- /wp:group -->
            
        </div>
        <!-- /wp:group -->
        
    </div>
    <!-- /wp:group -->
    
    <!-- الصف الثاني - معلومات متقدمة -->
    <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|medium","margin":{"top":"var:preset|spacing|small"}}},"className":"post-meta-secondary","layout":{"type":"flex","flexWrap":"wrap","verticalAlignment":"center","justifyContent":"space-between"}} -->
    <div class="wp-block-group post-meta-secondary" style="margin-top:var(--wp--preset--spacing--small)">
        
        <!-- التصنيفات والعلامات -->
        <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|small"}},"className":"post-taxonomy","layout":{"type":"flex","flexWrap":"wrap","verticalAlignment":"center"}} -->
        <div class="wp-block-group post-taxonomy">
            
            <!-- التصنيفات -->
            <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|x-small"}},"className":"post-categories","layout":{"type":"flex","flexWrap":"wrap","verticalAlignment":"center"}} -->
            <div class="wp-block-group post-categories">
                
                <!-- wp:html -->
                <svg width="16" height="16" viewBox="0 0 24 24" fill="var(--wp--preset--color--primary)" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.59 13.41L13.42 20.58C13.21 20.79 12.94 20.9 12.66 20.9H2C1.45 20.9 1 20.45 1 19.9V9.24C1 8.96 1.11 8.69 1.32 8.48L8.49 1.31C8.9 0.9 9.57 0.9 9.98 1.31L16.15 7.48C16.56 7.89 16.56 8.56 16.15 8.97L13.42 11.7"/>
                    <circle cx="6.5" cy="6.5" r="1.5"/>
                </svg>
                <!-- /wp:html -->
                
                <!-- wp:post-terms {"term":"category","style":{"typography":{"fontSize":"0.85rem","fontWeight":"500"}},"textColor":"primary","className":"category-links"} /-->
                
            </div>
            <!-- /wp:group -->
            
            <!-- العلامات (إذا وجدت) -->
            <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|x-small"}},"className":"post-tags","layout":{"type":"flex","flexWrap":"wrap","verticalAlignment":"center"}} -->
            <div class="wp-block-group post-tags">
                
                <!-- wp:html -->
                <svg width="16" height="16" viewBox="0 0 24 24" fill="var(--wp--preset--color--contrast)" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.59 13.41L13.42 20.58C13.21 20.79 12.94 20.9 12.66 20.9H2C1.45 20.9 1 20.45 1 19.9V9.24C1 8.96 1.11 8.69 1.32 8.48L8.49 1.31C8.9 0.9 9.57 0.9 9.98 1.31L16.15 7.48C16.56 7.89 16.56 8.56 16.15 8.97L13.42 11.7"/>
                    <circle cx="6.5" cy="6.5" r="1.5"/>
                </svg>
                <!-- /wp:html -->
                
                <!-- wp:post-terms {"term":"post_tag","style":{"typography":{"fontSize":"0.8rem","fontWeight":"400"}},"textColor":"contrast","className":"tag-links"} /-->
                
            </div>
            <!-- /wp:group -->
            
        </div>
        <!-- /wp:group -->
        
        <!-- معلومات إضافية -->
        <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|small"}},"className":"post-additional-meta","layout":{"type":"flex","flexWrap":"wrap","verticalAlignment":"center"}} -->
        <div class="wp-block-group post-additional-meta">
            
            <!-- تاريخ آخر تحديث -->
            <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|x-small"}},"className":"last-modified","layout":{"type":"flex","flexWrap":"nowrap","verticalAlignment":"center"}} -->
            <div class="wp-block-group last-modified">
                
                <!-- wp:html -->
                <svg width="16" height="16" viewBox="0 0 24 24" fill="var(--wp--preset--color--contrast)" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 12A9 9 0 0 1 12 3A9 9 0 0 1 21 12A9 9 0 0 1 12 21"/>
                    <path d="M12 7V12L16 14"/>
                </svg>
                <!-- /wp:html -->
                
                <!-- wp:html -->
                <span style="font-size: 0.85rem; color: var(--wp--preset--color--contrast);">
                    آخر تحديث: 
                    <time class="modified-date" datetime="">
                        <!-- سيتم ملؤه بـ JavaScript -->
                    </time>
                </span>
                <!-- /wp:html -->
                
            </div>
            <!-- /wp:group -->
            
            <!-- مستوى الصعوبة (للحلول) -->
            <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|x-small"}},"className":"difficulty-indicator","layout":{"type":"flex","flexWrap":"nowrap","verticalAlignment":"center"}} -->
            <div class="wp-block-group difficulty-indicator">
                
                <!-- wp:html -->
                <svg width="16" height="16" viewBox="0 0 24 24" fill="var(--wp--preset--color--warning)" xmlns="http://www.w3.org/2000/svg">
                    <polygon points="12 2 22 20 2 20"/>
                    <line x1="12" y1="9" x2="12" y2="13"/>
                    <line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
                <!-- /wp:html -->
                
                <!-- wp:html -->
                <span class="difficulty-level-text" style="font-size: 0.85rem; font-weight: 500;">
                    <!-- سيتم ملؤه حسب المحتوى -->
                </span>
                <!-- /wp:html -->
                
            </div>
            <!-- /wp:group -->
            
            <!-- تقييم المحتوى -->
            <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|x-small"}},"className":"content-rating","layout":{"type":"flex","flexWrap":"nowrap","verticalAlignment":"center"}} -->
            <div class="wp-block-group content-rating">
                
                <!-- wp:html -->
                <div class="star-rating" style="display: flex; gap: 0.125rem;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="#f39c12" xmlns="http://www.w3.org/2000/svg">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                    </svg>
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="#f39c12" xmlns="http://www.w3.org/2000/svg">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                    </svg>
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="#f39c12" xmlns="http://www.w3.org/2000/svg">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                    </svg>
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="#f39c12" xmlns="http://www.w3.org/2000/svg">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                    </svg>
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="#ddd" xmlns="http://www.w3.org/2000/svg">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                    </svg>
                </div>
                <!-- /wp:html -->
                
                <!-- wp:html -->
                <span class="rating-text" style="font-size: 0.85rem; color: var(--wp--preset--color--contrast); margin-right: 0.25rem;">
                    (4.2/5)
                </span>
                <!-- /wp:html -->
                
            </div>
            <!-- /wp:group -->
            
        </div>
        <!-- /wp:group -->
        
    </div>
    <!-- /wp:group -->
    
    <!-- شريط الإجراءات السريعة -->
    <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|small","margin":{"top":"var:preset|spacing|medium"},"padding":{"top":"var:preset|spacing|small","bottom":"var:preset|spacing|small"}},"border":{"top":{"color":"var:preset|color|base","width":"1px","style":"solid"}}},"className":"post-action-bar","layout":{"type":"flex","flexWrap":"wrap","verticalAlignment":"center","justifyContent":"space-between"}} -->
    <div class="wp-block-group post-action-bar" style="border-top-color:var(--wp--preset--color--base);border-top-style:solid;border-top-width:1px;margin-top:var(--wp--preset--spacing--medium);padding-top:var(--wp--preset--spacing--small);padding-bottom:var(--wp--preset--spacing--small)">
        
        <!-- أزرار التفاعل -->
        <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|small"}},"className":"post-interactions","layout":{"type":"flex","flexWrap":"wrap","verticalAlignment":"center"}} -->
        <div class="wp-block-group post-interactions">
            
            <!-- زر الإعجاب -->
            <!-- wp:html -->
            <button class="like-btn interaction-btn" data-post-id="" style="display: flex; align-items: center; gap: 0.25rem; background: none; border: 1px solid var(--wp--preset--color--base); border-radius: 20px; padding: 0.5rem 0.75rem; cursor: pointer; transition: all 0.3s ease; font-size: 0.85rem;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.84 4.61C20.3292 4.099 19.7228 3.69364 19.0554 3.41708C18.3879 3.14052 17.6725 2.99817 16.95 2.99817C16.2275 2.99817 15.5121 3.14052 14.8446 3.41708C14.1772 3.69364 13.5708 4.099 13.06 4.61L12 5.67L10.94 4.61C9.9083 3.5783 8.50903 2.9987 7.05 2.9987C5.59096 2.9987 4.19169 3.5783 3.16 4.61C2.1283 5.6417 1.5487 7.041 1.5487 8.5C1.5487 9.959 2.1283 11.3583 3.16 12.39L12 21.23L20.84 12.39C21.351 11.8792 21.7563 11.2728 22.0329 10.6053C22.3095 9.93789 22.4518 9.22248 22.4518 8.5C22.4518 7.77752 22.3095 7.06211 22.0329 6.39467C21.7563 5.72723 21.351 5.1208 20.84 4.61V4.61Z"/>
                </svg>
                <span class="like-count">42</span>
            </button>
            <!-- /wp:html -->
            
            <!-- زر المشاركة -->
            <!-- wp:html -->
            <button class="share-btn interaction-btn" style="display: flex; align-items: center; gap: 0.25rem; background: none; border: 1px solid var(--wp--preset--color--base); border-radius: 20px; padding: 0.5rem 0.75rem; cursor: pointer; transition: all 0.3s ease; font-size: 0.85rem;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="18" cy="5" r="3"/>
                    <circle cx="6" cy="12" r="3"/>
                    <circle cx="18" cy="19" r="3"/>
                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                </svg>
                <span>مشاركة</span>
            </button>
            <!-- /wp:html -->
            
            <!-- زر الحفظ -->
            <!-- wp:html -->
            <button class="bookmark-btn interaction-btn" data-post-id="" style="display: flex; align-items: center; gap: 0.25rem; background: none; border: 1px solid var(--wp--preset--color--base); border-radius: 20px; padding: 0.5rem 0.75rem; cursor: pointer; transition: all 0.3s ease; font-size: 0.85rem;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 21L12 16L5 21V5C5 4.46957 5.21071 3.96086 5.58579 3.58579C5.96086 3.21071 6.46957 3 7 3H17C17.5304 3 18.0391 3.21071 18.4142 3.58579C18.7893 3.96086 19 4.46957 19 5V21Z"/>
                </svg>
                <span>حفظ</span>
            </button>
            <!-- /wp:html -->
            
        </div>
        <!-- /wp:group -->
        
        <!-- معلومات إضافية -->
        <!-- wp:group {"style":{"spacing":{"blockGap":"var:preset|spacing|small"}},"className":"post-stats","layout":{"type":"flex","flexWrap":"wrap","verticalAlignment":"center"}} -->
        <div class="wp-block-group post-stats">
            
            <!-- معدل المفيدة -->
            <!-- wp:html -->
            <div class="helpfulness-rate" style="display: flex; align-items: center; gap: 0.25rem; font-size: 0.85rem; color: var(--wp--preset--color--success);">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 9V5C14 3.89543 13.1046 3 12 3H10C8.89543 3 8 3.89543 8 5V9M8 9H6C4.89543 9 4 9.89543 4 11V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V11C20 9.89543 19.1046 9 18 9H16M8 9H16"/>
                </svg>
                <span>95% مفيد</span>
            </div>
            <!-- /wp:html -->
            
            <!-- وقت متوقع للتطبيق -->
            <!-- wp:html -->
            <div class="implementation-time" style="display: flex; align-items: center; gap: 0.25rem; font-size: 0.85rem; color: var(--wp--preset--color--contrast);">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M22 11.08V12C21.9996 14.1564 21.3066 16.2547 20.0344 17.9818C18.7622 19.7089 16.9886 20.9725 14.9405 21.5839C12.8924 22.1953 10.6874 22.1219 8.68927 21.3746C6.69112 20.6273 4.99028 19.2461 3.85958 17.4371C2.72888 15.6281 2.23324 13.4891 2.44318 11.3457C2.65312 9.20227 3.55636 7.17531 5.02699 5.57821C6.49762 3.98111 8.46278 2.90526 10.6162 2.51677C12.7696 2.12827 14.9998 2.44852 16.96 3.42"/>
                    <polyline points="22 4 12 14.01 9 11.01"/>
                </svg>
                <span>15 دقيقة تطبيق</span>
            </div>
            <!-- /wp:html -->
            
        </div>
        <!-- /wp:group -->
        
    </div>
    <!-- /wp:group -->
    
</div>
<!-- /wp:group -->

<!-- سكريبت لإدارة المعلومات الديناميكية -->
<!-- wp:html -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // تهيئة معلومات المقال
    initPostMeta();
    
    function initPostMeta() {
        // حساب وقت القراءة
        calculateReadingTime();
        
        // تحديث تاريخ آخر تعديل
        updateModifiedDate();
        
        // تحديد مستوى الصعوبة
        setDifficultyLevel();
        
        // تحديث عدد المشاهدات
        updateViewCount();
        
        // تهيئة أزرار التفاعل
        initInteractionButtons();
        
        // تحديث التقييم
        updateRating();
        
        // إضافة Schema Markup
        addPostSchema();
    }
    
    function calculateReadingTime() {
        const content = document.querySelector('.post-content, .wp-block-post-content, .entry-content');
        const readingTimeElement = document.querySelector('.reading-time-text');
        
        if (content && readingTimeElement) {
            const text = content.textContent || content.innerText || '';
            const wordsPerMinute = 200; // متوسط القراءة بالعربية
            const wordCount = text.trim().split(/\s+/).length;
            const readingTime = Math.ceil(wordCount / wordsPerMinute);
            
            readingTimeElement.textContent = `${Math.max(1, readingTime)} دقائق قراءة`;
        }
    }
    
    function updateModifiedDate() {
        const modifiedDateElement = document.querySelector('.modified-date');
        
        if (modifiedDateElement) {
            // محاولة الحصول على تاريخ آخر تعديل من meta tag
            const modifiedMeta = document.querySelector('meta[property="article:modified_time"]');
            
            if (modifiedMeta) {
                const date = new Date(modifiedMeta.content);
                const formattedDate = date.toLocaleDateString('ar-SA', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                modifiedDateElement.textContent = formattedDate;
                modifiedDateElement.setAttribute('datetime', modifiedMeta.content);
            } else {
                // إخفاء العنصر إذا لم يكن هناك تاريخ تعديل
                const lastModifiedContainer = document.querySelector('.last-modified');
                if (lastModifiedContainer) {
                    lastModifiedContainer.style.display = 'none';
                }
            }
        }
    }
    
    function setDifficultyLevel() {
        const difficultyElement = document.querySelector('.difficulty-level-text');
        const difficultyContainer = document.querySelector('.difficulty-indicator');
        
        if (difficultyElement && difficultyContainer) {
            // البحث عن مستوى الصعوبة في meta data
            const difficultyMeta = document.querySelector('meta[name="difficulty"]');
            
            if (difficultyMeta) {
                const level = difficultyMeta.content.toLowerCase();
                const levels = {
                    'easy': { text: 'سهل', color: '#27ae60', icon: '🟢' },
                    'medium': { text: 'متوسط', color: '#f39c12', icon: '🟡' },
                    'hard': { text: 'صعب', color: '#e74c3c', icon: '🔴' }
                };
                
                const levelInfo = levels[level];
                if (levelInfo) {
                    difficultyElement.innerHTML = `${levelInfo.icon} ${levelInfo.text}`;
                    difficultyElement.style.color = levelInfo.color;
                    difficultyContainer.style.display = 'flex';
                }
            } else {
                difficultyContainer.style.display = 'none';
            }
        }
    }
    
    function updateViewCount() {
        const viewsElement = document.querySelector('.views-count');
        
        if (viewsElement) {
            // يمكن استخدام AJAX لجلب عدد المشاهدات الفعلي
            const postId = getPostId();
            
            if (postId) {
                // محاكاة تحديث عدد المشاهدات
                const currentViews = localStorage.getItem(`post_views_${postId}`) || Math.floor(Math.random() * 5000) + 100;
                const newViews = parseInt(currentViews) + 1;
                
                localStorage.setItem(`post_views_${postId}`, newViews);
                viewsElement.textContent = `${formatNumber(newViews)} مشاهدة`;
            }
        }
    }
    
    function initInteractionButtons() {
        const likeBtn = document.querySelector('.like-btn');
        const shareBtn = document.querySelector('.share-btn');
        const bookmarkBtn = document.querySelector('.bookmark-btn');
        
        // زر الإعجاب
        if (likeBtn) {
            const postId = getPostId();
            likeBtn.dataset.postId = postId;
            
            // التحقق من حالة الإعجاب المحفوظة
            const isLiked = localStorage.getItem(`post_liked_${postId}`) === 'true';
            updateLikeButton(likeBtn, isLiked);
            
            likeBtn.addEventListener('click', function() {
                toggleLike(this);
            });
        }
        
        // زر المشاركة
        if (shareBtn) {
            shareBtn.addEventListener('click', function() {
                openShareMenu();
            });
        }
        
        // زر الحفظ
        if (bookmarkBtn) {
            const postId = getPostId();
            bookmarkBtn.dataset.postId = postId;
            
            const isBookmarked = localStorage.getItem(`post_bookmarked_${postId}`) === 'true';
            updateBookmarkButton(bookmarkBtn, isBookmarked);
            
            bookmarkBtn.addEventListener('click', function() {
                toggleBookmark(this);
            });
        }
    }
    
    function updateRating() {
        const ratingContainer = document.querySelector('.content-rating');
        
        if (ratingContainer) {
            // محاولة الحصول على التقييم من meta data
            const ratingMeta = document.querySelector('meta[name="rating"]');
            
            if (ratingMeta) {
                const rating = parseFloat(ratingMeta.content);
                updateStarRating(ratingContainer, rating);
            } else {
                // إخفاء التقييم إذا لم يكن متوفراً
                ratingContainer.style.display = 'none';
            }
        }
    }
    
    function getPostId() {
        // محاولة الحصول على معرف المقال من body class أو meta tag
        const body = document.body;
        const postIdMatch = body.className.match(/postid-(\d+)/);
        
        if (postIdMatch) {
            return postIdMatch[1];
        }
        
        const postIdMeta = document.querySelector('meta[name="post-id"]');
        return postIdMeta ? postIdMeta.content : '1';
    }
    
    function formatNumber(num) {
        if (num >= 1000000) {
            return (num / 1000000).toFixed(1) + 'M';
        } else if (num >= 1000) {
            return (num / 1000).toFixed(1) + 'K';
        }
        return num.toString();
    }
    
    function toggleLike(button) {
        const postId = button.dataset.postId;
        const isLiked = localStorage.getItem(`post_liked_${postId}`) === 'true';
        const newState = !isLiked;
        
        localStorage.setItem(`post_liked_${postId}`, newState);
        updateLikeButton(button, newState);
        
        // تحديث العدد
        const countElement = button.querySelector('.like-count');
        if (countElement) {
            let count = parseInt(countElement.textContent);
            count += newState ? 1 : -1;
            countElement.textContent = Math.max(0, count);
        }
        
        // تأثير بصري
        button.style.transform = 'scale(1.1)';
        setTimeout(() => {
            button.style.transform = 'scale(1)';
        }, 200);
    }
    
    function updateLikeButton(button, isLiked) {
        const svg = button.querySelector('svg');
        
        if (isLiked) {
            button.style.borderColor = 'var(--wp--preset--color--accent)';
            button.style.color = 'var(--wp--preset--color--accent)';
            svg.style.fill = 'var(--wp--preset--color--accent)';
        } else {
            button.style.borderColor = 'var(--wp--preset--color--base)';
            button.style.color = 'inherit';
            svg.style.fill = 'none';
        }
    }
    
    function toggleBookmark(button) {
        const postId = button.dataset.postId;
        const isBookmarked = localStorage.getItem(`post_bookmarked_${postId}`) === 'true';
        const newState = !isBookmarked;
        
        localStorage.setItem(`post_bookmarked_${postId}`, newState);
        updateBookmarkButton(button, newState);
        
        // تأثير بصري
        button.style.transform = 'scale(1.1)';
        setTimeout(() => {
            button.style.transform = 'scale(1)';
        }, 200);
    }
    
    function updateBookmarkButton(button, isBookmarked) {
        const svg = button.querySelector('svg');
        const span = button.querySelector('span');
        
        if (isBookmarked) {
            button.style.borderColor = 'var(--wp--preset--color--primary)';
            button.style.color = 'var(--wp--preset--color--primary)';
            svg.style.fill = 'var(--wp--preset--color--primary)';
            span.textContent = 'محفوظ';
        } else {
            button.style.borderColor = 'var(--wp--preset--color--base)';
            button.style.color = 'inherit';
            svg.style.fill = 'none';
            span.textContent = 'حفظ';
        }
    }
    
    function openShareMenu() {
        // إنشاء قائمة المشاركة
        const shareMenu = createShareMenu();
        document.body.appendChild(shareMenu);
        
        // إظهار القائمة
        setTimeout(() => {
            shareMenu.classList.add('active');
        }, 10);
        
        // إغلاق القائمة عند النقر خارجها
        shareMenu.addEventListener('click', function(e) {
            if (e.target === shareMenu) {
                closeShareMenu(shareMenu);
            }
        });
    }
    
    function createShareMenu() {
        const overlay = document.createElement('div');
        overlay.className = 'share-menu-overlay';
        overlay.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        `;
        
        const menu = document.createElement('div');
        menu.style.cssText = `
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            max-width: 400px;
            width: 90%;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        `;
        
        const currentUrl = window.location.href;
        const title = document.title;
        
        menu.innerHTML = `
            <h3 style="margin: 0 0 1rem 0; text-align: center; color: var(--wp--preset--color--foreground);">مشاركة المقال</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 1rem;">
                <a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(currentUrl)}" target="_blank" style="display: flex; flex-direction: column; align-items: center; padding: 1rem; border-radius: 8px; background: #1877f2; color: white; text-decoration: none; transition: transform 0.3s ease;">
                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                    <span style="font-size: 0.85rem; margin-top: 0.5rem;">فيسبوك</span>
                </a>
                <a href="https://twitter.com/intent/tweet?url=${encodeURIComponent(currentUrl)}&text=${encodeURIComponent(title)}" target="_blank" style="display: flex; flex-direction: column; align-items: center; padding: 1rem; border-radius: 8px; background: #1da1f2; color: white; text-decoration: none; transition: transform 0.3s ease;">
                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>
                    <span style="font-size: 0.85rem; margin-top: 0.5rem;">تويتر</span>
                </a>
                <a href="https://wa.me/?text=${encodeURIComponent(title + ' - ' + currentUrl)}" target="_blank" style="display: flex; flex-direction: column; align-items: center; padding: 1rem; border-radius: 8px; background: #25d366; color: white; text-decoration: none; transition: transform 0.3s ease;">
                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.085"/></svg>
                    <span style="font-size: 0.85rem; margin-top: 0.5rem;">واتساب</span>
                </a>
                <button onclick="copyToClipboard('${currentUrl}')" style="display: flex; flex-direction: column; align-items: center; padding: 1rem; border-radius: 8px; background: var(--wp--preset--color--primary); color: white; border: none; cursor: pointer; transition: transform 0.3s ease;">
                    <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
                    <span style="font-size: 0.85rem; margin-top: 0.5rem;">نسخ الرابط</span>
                </button>
            </div>
            <button onclick="closeShareMenu(this.closest('.share-menu-overlay'))" style="margin-top: 1rem; width: 100%; padding: 0.75rem; background: var(--wp--preset--color--base); border: none; border-radius: 8px; cursor: pointer;">إغلاق</button>
        `;
        
        overlay.appendChild(menu);
        
        // إضافة الكلاسة النشطة
        overlay.classList.add = function(className) {
            overlay.style.opacity = '1';
            menu.style.transform = 'scale(1)';
        };
        
        return overlay;
    }
    
    function closeShareMenu(overlay) {
        overlay.style.opacity = '0';
        overlay.querySelector('div').style.transform = 'scale(0.9)';
        setTimeout(() => {
            overlay.remove();
        }, 300);
    }
    
    function updateStarRating(container, rating) {
        const stars = container.querySelectorAll('svg');
        const ratingText = container.querySelector('.rating-text');
        
        stars.forEach((star, index) => {
            if (index < Math.floor(rating)) {
                star.style.fill = '#f39c12';
            } else if (index < rating && rating - index >= 0.5) {
                // نصف نجمة - يمكن تطويرها لاحقاً
                star.style.fill = '#f39c12';
            } else {
                star.style.fill = '#ddd';
            }
        });
        
        if (ratingText) {
            ratingText.textContent = `(${rating}/5)`;
        }
    }
    
    function addPostSchema() {
        // إضافة Schema.org للمقال
        const schemaData = {
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": document.title,
            "author": {
                "@type": "Person",
                "name": document.querySelector('.wp-block-post-author-name')?.textContent || "مؤلف"
            },
            "datePublished": document.querySelector('.wp-block-post-date')?.getAttribute('datetime') || new Date().toISOString(),
            "dateModified": document.querySelector('.modified-date')?.getAttribute('datetime') || new Date().toISOString(),
            "description": document.querySelector('meta[name="description"]')?.content || "",
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": window.location.href
            },
            "publisher": {
                "@type": "Organization",
                "name": "الحلول العملية",
                "logo": {
                    "@type": "ImageObject",
                    "url": document.querySelector('.wp-block-site-logo img')?.src || ""
                }
            }
        };
        
        // إضافة الصورة المميزة إذا وجدت
        const featuredImage = document.querySelector('.wp-block-post-featured-image img');
        if (featuredImage) {
            schemaData.image = {
                "@type": "ImageObject",
                "url": featuredImage.src,
                "width": featuredImage.naturalWidth,
                "height": featuredImage.naturalHeight
            };
        }
        
        // إضافة Schema إلى الصفحة
        const script = document.createElement('script');
        script.type = 'application/ld+json';
        script.textContent = JSON.stringify(schemaData);
        document.head.appendChild(script);
    }
    
    // وظائف عامة للنسخ والمشاركة
    window.copyToClipboard = function(text) {
        navigator.clipboard.writeText(text).then(() => {
            // إظهار رسالة نجاح
            showToast('تم نسخ الرابط بنجاح!');
        }).catch(() => {
            // فشل في النسخ
            showToast('فشل في نسخ الرابط', 'error');
        });
    };
    
    window.closeShareMenu = closeShareMenu;
    
    function showToast(message, type = 'success') {
        const toast = document.createElement('div');
        toast.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${type === 'success' ? '#27ae60' : '#e74c3c'};
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            z-index: 10001;
            font-size: 0.9rem;
            transform: translateY(-100px);
            transition: transform 0.3s ease;
        `;
        toast.textContent = message;
        
        document.body.appendChild(toast);
        
        setTimeout(() => {
            toast.style.transform = 'translateY(0)';
        }, 10);
        
        setTimeout(() => {
            toast.style.transform = 'translateY(-100px)';
            setTimeout(() => {
                toast.remove();
            }, 300);
        }, 3000);
    }
});
</script>
<!-- /wp:html -->

<!-- أنماط إضافية للتفاعل -->
<!-- wp:html -->
<style>
/* أنماط معلومات المقال */
.post-meta-info {
    border-bottom: 1px solid var(--wp--preset--color--base, #ecf0f1);
    margin-bottom: var(--wp--preset--spacing--medium);
}

.post-meta-info .wp-block-group {
    gap: 0.5rem;
}

/* تأثيرات التفاعل */
.interaction-btn:hover {
    background-color: var(--wp--preset--color--base, #ecf0f1);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.interaction-btn:active {
    transform: translateY(0);
}

/* أنماط الأزرار المنشطة */
.interaction-btn.active {
    background-color: var(--wp--preset--color--primary, #007cba);
    color: white;
    border-color: var(--wp--preset--color--primary, #007cba);
}

/* أنماط التقييم */
.star-rating svg {
    transition: fill 0.3s ease;
    cursor: pointer;
}

.star-rating:hover svg {
    fill: #f39c12;
}

/* تحسينات الاستجابة */
@media (max-width: 768px) {
    .post-meta-primary,
    .post-meta-secondary {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
    }
    
    .post-interactions,
    .post-stats {
        width: 100%;
        justify-content: space-between;
    }
    
    .interaction-btn {
        flex: 1;
        justify-content: center;
        min-width: 0;
    }
    
    .interaction-btn span {
        display: none;
    }
    
    .interaction-btn svg {
        margin: 0;
    }
}

@media (max-width: 480px) {
    .post-basic-info {
        flex-direction: column;
        align-items: flex-start;
        width: 100%;
    }
    
    .meta-separator {
        display: none;
    }
    
    .author-info,
    .publish-date,
    .reading-time {
        width: 100%;
        justify-content: flex-start;
    }
}

/* تأثيرات إضافية */
.post-meta-info .wp-block-group:hover {
    background-color: rgba(0, 124, 186, 0.02);
    border-radius: 8px;
    padding: 0.5rem;
    margin: -0.5rem;
    transition: all 0.3s ease;
}

/* أنماط الشارات */
.difficulty-level-text,
.helpfulness-rate,
.implementation-time {
    padding: 0.25rem 0.5rem;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid currentColor;
    font-weight: 500;
}

/* تأثيرات النقر */
.post-meta-info button,
.post-meta-info a {
    transition: all 0.3s ease;
}

.post-meta-info button:focus,
.post-meta-info a:focus {
    outline: 2px solid var(--wp--preset--color--primary);
    outline-offset: 2px;
    border-radius: 4px;
}
</style>
<!-- /wp:html -->