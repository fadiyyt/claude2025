<!-- wp:template-part {"slug":"header","tagName":"header","className":"site-header"} /-->

<!-- wp:group {"tagName":"main","className":"site-main error-404-main","layout":{"type":"constrained"}} -->
<main class="wp-block-group site-main error-404-main">
    
    <!-- wp:group {"className":"error-404-content","style":{"spacing":{"padding":{"top":"6rem","bottom":"6rem"}}},"layout":{"type":"constrained"}} -->
    <div class="wp-block-group error-404-content" style="padding-top:6rem;padding-bottom:6rem">
        
        <!-- wp:group {"className":"error-illustration","style":{"spacing":{"margin":{"bottom":"3rem"}}},"layout":{"type":"constrained"}} -->
        <div class="wp-block-group error-illustration" style="margin-bottom:3rem">
            
            <!-- wp:html -->
            <div class="error-404-animation">
                <svg width="200" height="200" viewBox="0 0 200 200" style="margin: 0 auto; display: block;">
                    <!-- خلفية دائرية -->
                    <circle cx="100" cy="100" r="90" fill="var(--wp--preset--color--base)" opacity="0.3"/>
                    
                    <!-- الرقم 4 الأول -->
                    <text x="60" y="120" font-family="var(--wp--preset--font-family--noto-arabic)" font-size="60" font-weight="800" fill="var(--wp--preset--color--primary)">4</text>
                    
                    <!-- رقم 0 في المنتصف مع عيون -->
                    <circle cx="100" cy="95" r="25" fill="var(--wp--preset--color--accent)" opacity="0.8"/>
                    <circle cx="92" cy="88" r="4" fill="white"/>
                    <circle cx="108" cy="88" r="4" fill="white"/>
                    <path d="M 90 105 Q 100 115 110 105" stroke="white" stroke-width="3" fill="none" stroke-linecap="round"/>
                    
                    <!-- الرقم 4 الثاني -->
                    <text x="125" y="120" font-family="var(--wp--preset--font-family--noto-arabic)" font-size="60" font-weight="800" fill="var(--wp--preset--color--primary)">4</text>
                    
                    <!-- عناصر متحركة حول الرقم -->
                    <circle cx="150" cy="60" r="3" fill="var(--wp--preset--color--warning)" opacity="0.7">
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;360 100 100" dur="10s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="50" cy="60" r="2" fill="var(--wp--preset--color--success)" opacity="0.7">
                        <animateTransform attributeName="transform" type="rotate" values="360 100 100;0 100 100" dur="8s" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="160" cy="140" r="2.5" fill="var(--wp--preset--color--info)" opacity="0.7">
                        <animateTransform attributeName="transform" type="rotate" values="0 100 100;360 100 100" dur="12s" repeatCount="indefinite"/>
                    </circle>
                </svg>
            </div>
            <!-- /wp:html -->
            
        </div>
        <!-- /wp:group -->
        
        <!-- wp:heading {"textAlign":"center","level":1,"style":{"typography":{"fontSize":"3rem","fontWeight":"800"},"spacing":{"margin":{"bottom":"1rem"}}}} -->
        <h1 class="wp-block-heading has-text-align-center" style="font-size:3rem;font-weight:800;margin-bottom:1rem">عذراً! الصفحة غير موجودة</h1>
        <!-- /wp:heading -->
        
        <!-- wp:paragraph {"align":"center","style":{"typography":{"fontSize":"1.25rem"},"color":{"text":"var(--wp--preset--color--tertiary)"},"spacing":{"margin":{"bottom":"3rem"}}}} -->
        <p class="has-text-align-center has-tertiary-color has-text-color" style="font-size:1.25rem;margin-bottom:3rem">يبدو أن الصفحة التي تبحث عنها قد تم نقلها أو حذفها أو أن الرابط خاطئ</p>
        <!-- /wp:paragraph -->
        
        <!-- wp:group {"className":"error-404-suggestions","style":{"spacing":{"margin":{"bottom":"4rem"}}},"layout":{"type":"constrained"}} -->
        <div class="wp-block-group error-404-suggestions" style="margin-bottom:4rem">
            
            <!-- wp:heading {"textAlign":"center","level":2,"style":{"spacing":{"margin":{"bottom":"2rem"}}}} -->
            <h2 class="wp-block-heading has-text-align-center" style="margin-bottom:2rem">ماذا يمكنك أن تفعل؟</h2>
            <!-- /wp:heading -->
            
            <!-- wp:columns {"style":{"spacing":{"blockGap":{"top":"2rem","left":"3rem"}}}} -->
            <div class="wp-block-columns" style="gap:3rem 2rem">
                
                <!-- wp:column -->
                <div class="wp-block-column">
                    <!-- wp:group {"className":"suggestion-card","style":{"spacing":{"padding":{"top":"2rem","bottom":"2rem","left":"1.5rem","right":"1.5rem"}},"border":{"radius":"12px"}},"backgroundColor":"white","layout":{"type":"constrained"}} -->
                    <div class="wp-block-group suggestion-card has-white-background-color has-background" style="border-radius:12px;padding-top:2rem;padding-right:1.5rem;padding-bottom:2rem;padding-left:1.5rem">
                        
                        <!-- wp:html -->
                        <div style="text-align: center; margin-bottom: 1rem;">
                            <svg width="50" height="50" fill="var(--wp--preset--color--primary)" viewBox="0 0 24 24">
                                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                            </svg>
                        </div>
                        <!-- /wp:html -->
                        
                        <!-- wp:heading {"textAlign":"center","level":3,"style":{"spacing":{"margin":{"bottom":"1rem"}}}} -->
                        <h3 class="wp-block-heading has-text-align-center" style="margin-bottom:1rem">العودة للرئيسية</h3>
                        <!-- /wp:heading -->
                        
                        <!-- wp:paragraph {"align":"center","style":{"spacing":{"margin":{"bottom":"1.5rem"}}}} -->
                        <p class="has-text-align-center" style="margin-bottom:1.5rem">تصفح أحدث الحلول والنصائح من الصفحة الرئيسية</p>
                        <!-- /wp:paragraph -->
                        
                        <!-- wp:buttons {"layout":{"type":"flex","justifyContent":"center"}} -->
                        <div class="wp-block-buttons">
                            <!-- wp:button -->
                            <div class="wp-block-button">
                                <a class="wp-block-button__link wp-element-button" href="/">الصفحة الرئيسية</a>
                            </div>
                            <!-- /wp:button -->
                        </div>
                        <!-- /wp:buttons -->
                        
                    </div>
                    <!-- /wp:group -->
                </div>
                <!-- /wp:column -->
                
                <!-- wp:column -->
                <div class="wp-block-column">
                    <!-- wp:group {"className":"suggestion-card","style":{"spacing":{"padding":{"top":"2rem","bottom":"2rem","left":"1.5rem","right":"1.5rem"}},"border":{"radius":"12px"}},"backgroundColor":"white","layout":{"type":"constrained"}} -->
                    <div class="wp-block-group suggestion-card has-white-background-color has-background" style="border-radius:12px;padding-top:2rem;padding-right:1.5rem;padding-bottom:2rem;padding-left:1.5rem">
                        
                        <!-- wp:html -->
                        <div style="text-align: center; margin-bottom: 1rem;">
                            <svg width="50" height="50" fill="var(--wp--preset--color--success)" viewBox="0 0 24 24">
                                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                            </svg>
                        </div>
                        <!-- /wp:html -->
                        
                        <!-- wp:heading {"textAlign":"center","level":3,"style":{"spacing":{"margin":{"bottom":"1rem"}}}} -->
                        <h3 class="wp-block-heading has-text-align-center" style="margin-bottom:1rem">ابحث في الموقع</h3>
                        <!-- /wp:heading -->
                        
                        <!-- wp:paragraph {"align":"center","style":{"spacing":{"margin":{"bottom":"1.5rem"}}}} -->
                        <p class="has-text-align-center" style="margin-bottom:1.5rem">استخدم البحث للعثور على ما تريد</p>
                        <!-- /wp:paragraph -->
                        
                        <!-- wp:buttons {"layout":{"type":"flex","justifyContent":"center"}} -->
                        <div class="wp-block-buttons">
                            <!-- wp:button {"className":"is-style-outline"} -->
                            <div class="wp-block-button is-style-outline">
                                <a class="wp-block-button__link wp-element-button" href="/search">البحث المتقدم</a>
                            </div>
                            <!-- /wp:button -->
                        </div>
                        <!-- /wp:buttons -->
                        
                    </div>
                    <!-- /wp:group -->
                </div>
                <!-- /wp:column -->
                
                <!-- wp:column -->
                <div class="wp-block-column">
                    <!-- wp:group {"className":"suggestion-card","style":{"spacing":{"padding":{"top":"2rem","bottom":"2rem","left":"1.5rem","right":"1.5rem"}},"border":{"radius":"12px"}},"backgroundColor":"white","layout":{"type":"constrained"}} -->
                    <div class="wp-block-group suggestion-card has-white-background-color has-background" style="border-radius:12px;padding-top:2rem;padding-right:1.5rem;padding-bottom:2rem;padding-left:1.5rem">
                        
                        <!-- wp:html -->
                        <div style="text-align: center; margin-bottom: 1rem;">
                            <svg width="50" height="50" fill="var(--wp--preset--color--warning)" viewBox="0 0 24 24">
                                <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                            </svg>
                        </div>
                        <!-- /wp:html -->
                        
                        <!-- wp:heading {"textAlign":"center","level":3,"style":{"spacing":{"margin":{"bottom":"1rem"}}}} -->
                        <h3 class="wp-block-heading has-text-align-center" style="margin-bottom:1rem">تواصل معنا</h3>
                        <!-- /wp:heading -->
                        
                        <!-- wp:paragraph {"align":"center","style":{"spacing":{"margin":{"bottom":"1.5rem"}}}} -->
                        <p class="has-text-align-center" style="margin-bottom:1.5rem">أخبرنا عن المشكلة وسنساعدك</p>
                        <!-- /wp:paragraph -->
                        
                        <!-- wp:buttons {"layout":{"type":"flex","justifyContent":"center"}} -->
                        <div class="wp-block-buttons">
                            <!-- wp:button {"className":"is-style-outline"} -->
                            <div class="wp-block-button is-style-outline">
                                <a class="wp-block-button__link wp-element-button" href="/contact">تواصل معنا</a>
                            </div>
                            <!-- /wp:button -->
                        </div>
                        <!-- /wp:buttons -->
                        
                    </div>
                    <!-- /wp:group -->
                </div>
                <!-- /wp:column -->
                
            </div>
            <!-- /wp:columns -->
            
        </div>
        <!-- /wp:group -->
        
        <!-- wp:group {"className":"quick-search","style":{"spacing":{"margin":{"bottom":"4rem"}}},"layout":{"type":"constrained"}} -->
        <div class="wp-block-group quick-search" style="margin-bottom:4rem">
            
            <!-- wp:heading {"textAlign":"center","level":3,"style":{"spacing":{"margin":{"bottom":"1.5rem"}}}} -->
            <h3 class="wp-block-heading has-text-align-center" style="margin-bottom:1.5rem">أو ابحث مباشرة هنا</h3>
            <!-- /wp:heading -->
            
            <!-- wp:template-part {"slug":"search-form"} /-->
            
        </div>
        <!-- /wp:group -->
        
        <!-- wp:group {"className":"popular-categories","style":{"spacing":{"margin":{"bottom":"4rem"}}},"layout":{"type":"constrained"}} -->
        <div class="wp-block-group popular-categories" style="margin-bottom:4rem">
            
            <!-- wp:heading {"textAlign":"center","level":3,"style":{"spacing":{"margin":{"bottom":"2rem"}}}} -->
            <h3 class="wp-block-heading has-text-align-center" style="margin-bottom:2rem">تصفح التصنيفات الشائعة</h3>
            <!-- /wp:heading -->
            
            <!-- wp:html -->
            <div class="category-grid">
                <a href="/category/home" class="category-item">
                    <span class="category-icon">🏠</span>
                    <span class="category-name">البيت والمنزل</span>
                    <span class="category-count">25+ مقال</span>
                </a>
                
                <a href="/category/kitchen" class="category-item">
                    <span class="category-icon">🍳</span>
                    <span class="category-name">المطبخ والطبخ</span>
                    <span class="category-count">30+ مقال</span>
                </a>
                
                <a href="/category/lifestyle" class="category-item">
                    <span class="category-icon">💡</span>
                    <span class="category-name">نصائح حياتية</span>
                    <span class="category-count">20+ مقال</span>
                </a>
                
                <a href="/category/tech" class="category-item">
                    <span class="category-icon">🔧</span>
                    <span class="category-name">حلول تقنية</span>
                    <span class="category-count">15+ مقال</span>
                </a>
            </div>
            <!-- /wp:html -->
            
        </div>
        <!-- /wp:group -->
        
        <!-- wp:group {"className":"recent-posts-404","layout":{"type":"constrained"}} -->
        <div class="wp-block-group recent-posts-404">
            
            <!-- wp:heading {"textAlign":"center","level":3,"style":{"spacing":{"margin":{"bottom":"2rem"}}}} -->
            <h3 class="wp-block-heading has-text-align-center" style="margin-bottom:2rem">أحدث المقالات</h3>
            <!-- /wp:heading -->
            
            <!-- wp:query {"queryId":1,"query":{"perPage":3,"pages":0,"offset":0,"postType":"post","order":"desc","orderBy":"date","author":"","search":"","exclude":[],"sticky":"","inherit":false}} -->
            <div class="wp-block-query">
                
                <!-- wp:post-template {"layout":{"type":"grid","columnCount":3}} -->
                
                <!-- wp:group {"className":"recent-post-card","style":{"spacing":{"padding":{"top":"1.5rem","bottom":"1.5rem","left":"1.5rem","right":"1.5rem"}},"border":{"radius":"12px"}},"backgroundColor":"white","layout":{"type":"constrained"}} -->
                <div class="wp-block-group recent-post-card has-white-background-color has-background" style="border-radius:12px;padding-top:1.5rem;padding-right:1.5rem;padding-bottom:1.5rem;padding-left:1.5rem">
                    
                    <!-- wp:post-featured-image {"aspectRatio":"16/9","style":{"border":{"radius":"8px"}},"className":"recent-post-image"} /-->
                    
                    <!-- wp:post-title {"level":4,"isLink":true,"style":{"typography":{"fontSize":"1rem","fontWeight":"600","lineHeight":"1.4"},"spacing":{"margin":{"top":"1rem","bottom":"0.5rem"}}}} /-->
                    
                    <!-- wp:post-date {"style":{"typography":{"fontSize":"0.875rem"},"color":{"text":"var(--wp--preset--color--tertiary)"}}} /-->
                    
                </div>
                <!-- /wp:group -->
                
                <!-- /wp:post-template -->
                
            </div>
            <!-- /wp:query -->
            
        </div>
        <!-- /wp:group -->
        
    </div>
    <!-- /wp:group -->
    
</main>
<!-- /wp:group -->

<!-- wp:template-part {"slug":"footer","tagName":"footer","className":"site-footer"} /-->

<!-- wp:html -->
<style>
/* تخصيص صفحة 404 */
.error-404-main {
    min-height: 80vh;
    background: linear-gradient(135deg, var(--wp--preset--color--base) 0%, white 100%);
}

.error-404-content {
    text-align: center;
}

.error-404-animation svg {
    max-width: 250px;
    width: 100%;
    height: auto;
}

.suggestion-card {
    text-align: center;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    border: 1px solid var(--wp--preset--color--base);
}

.suggestion-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
}

.category-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    max-width: 800px;
    margin: 0 auto;
}

.category-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 2rem 1.5rem;
    background: white;
    border-radius: 12px;
    text-decoration: none;
    color: var(--wp--preset--color--foreground);
    transition: all 0.3s ease;
    border: 1px solid var(--wp--preset--color--base);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.category-item:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    color: var(--wp--preset--color--primary);
    border-color: var(--wp--preset--color--primary);
}

.category-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    display: block;
}

.category-name {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    display: block;
}

.category-count {
    font-size: 0.875rem;
    color: var(--wp--preset--color--tertiary);
    display: block;
}

.recent-post-card {
    text-align: center;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
    border: 1px solid var(--wp--preset--color--base);
}

.recent-post-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.recent-post-image img {
    width: 100%;
    height: 150px;
    object-fit: cover;
}

/* تحسين البحث السريع */
.quick-search .advanced-search-form {
    max-width: 500px;
    margin: 0 auto;
}

/* استجابة للجوال */
@media (max-width: 768px) {
    .error-404-content {
        padding-top: 3rem !important;
        padding-bottom: 3rem !important;
    }
    
    .error-404-content h1 {
        font-size: 2rem !important;
    }
    
    .error-404-content .wp-block-columns {
        flex-direction: column;
    }
    
    .category-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
    }
    
    .category-item {
        padding: 1.5rem 1rem;
    }
    
    .recent-posts-404 .wp-block-post-template {
        grid-template-columns: 1fr !important;
        gap: 1.5rem;
    }
}

/* تحسين إمكانية الوصول */
.category-item:focus,
.suggestion-card .wp-block-button__link:focus {
    outline: 2px solid var(--wp--preset--color--primary);
    outline-offset: 2px;
}

/* تحريك العناصر المتحركة */
@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}

.error-404-animation {
    animation: float 3s ease-in-out infinite;
}

/* تحسين المسافات */
.error-404-suggestions .wp-block-columns {
    align-items: stretch;
}

.suggestion-card {
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

/* تحسين الألوان في الوضع المظلم */
@media (prefers-color-scheme: dark) {
    .error-404-main {
        background: linear-gradient(135deg, var(--wp--preset--color--foreground) 0%, #1a1a1a 100%);
    }
    
    .suggestion-card,
    .category-item,
    .recent-post-card {
        background: #2a2a2a;
        border-color: #404040;
        color: #e0e0e0;
    }
    
    .category-count {
        color: #a0a0a0;
    }
}

/* تحسين التفاعل */
.suggestion-card .wp-block-button,
.category-item,
.recent-post-card {
    position: relative;
    overflow: hidden;
}

.suggestion-card::before,
.category-item::before,
.recent-post-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
}

.suggestion-card:hover::before,
.category-item:hover::before,
.recent-post-card:hover::before {
    left: 100%;
}

/* تحسين نص الخطأ */
.error-404-content h1 {
    background: linear-gradient(45deg, var(--wp--preset--color--primary), var(--wp--preset--color--accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    initialize404Page();
});

function initialize404Page() {
    // تتبع النقرات على الاقتراحات
    trackSuggestionClicks();
    
    // إضافة تحريك للعناصر
    addScrollAnimations();
    
    // تحسين تجربة البحث
    enhanceSearchExperience();
    
    // إرسال تقرير الخطأ (اختياري)
    report404Error();
}

function trackSuggestionClicks() {
    const suggestionCards = document.querySelectorAll('.suggestion-card');
    const categoryItems = document.querySelectorAll('.category-item');
    
    suggestionCards.forEach((card, index) => {
        card.addEventListener('click', function() {
            // يمكن إرسال إحصائيات للتحليل هنا
            console.log(`Suggestion ${index + 1} clicked on 404 page`);
        });
    });
    
    categoryItems.forEach((item, index) => {
        item.addEventListener('click', function() {
            // يمكن إرسال إحصائيات للتحليل هنا
            console.log(`Category ${index + 1} clicked on 404 page`);
        });
    });
}

function addScrollAnimations() {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    });
    
    // إضافة الرسوم المتحركة للعناصر
    const animatedElements = document.querySelectorAll('.suggestion-card, .category-item, .recent-post-card');
    
    animatedElements.forEach((element, index) => {
        element.style.opacity = '0';
        element.style.transform = 'translateY(30px)';
        element.style.transition = `opacity 0.6s ease ${index * 0.1}s, transform 0.6s ease ${index * 0.1}s`;
        
        observer.observe(element);
    });
}

function enhanceSearchExperience() {
    const searchInput = document.querySelector('#search-input');
    
    if (searchInput) {
        // تركيز تلقائي على البحث (اختياري)
        setTimeout(() => {
            searchInput.focus();
        }, 1000);
        
        // اقتراحات بحث للصفحة 404
        const suggestions404 = [
            'تنظيف المنزل',
            'وصفات سريعة', 
            'توفير المال',
            'نصائح صحية',
            'حلول تقنية'
        ];
        
        // إضافة اقتراحات عشوائية كـ placeholder
        let currentSuggestion = 0;
        setInterval(() => {
            if (searchInput.value === '') {
                searchInput.placeholder = `جرب البحث عن: ${suggestions404[currentSuggestion]}`;
                currentSuggestion = (currentSuggestion + 1) % suggestions404.length;
            }
        }, 3000);
    }
}

function report404Error() {
    // جمع معلومات مفيدة عن الخطأ
    const errorInfo = {
        url: window.location.href,
        referrer: document.referrer,
        userAgent: navigator.userAgent,
        timestamp: new Date().toISOString(),
        viewport: {
            width: window.innerWidth,
            height: window.innerHeight
        }
    };
    
    // يمكن إرسال هذه المعلومات لخدمة التحليل
    console.log('404 Error Report:', errorInfo);
    
    // مثال على إرسال التقرير (يمكن تخصيصه حسب الحاجة)
    /*
    fetch('/wp-json/practical-solutions/v1/404-report', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(errorInfo)
    }).catch(error => {
        console.log('Failed to send 404 report:', error);
    });
    */
}

// تحسين الأداء مع تحميل تدريجي للصور
function lazyLoadImages() {
    const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                if (img.dataset.src) {
                    img.src = img.dataset.src;
                    img.classList.remove('lazy');
                    observer.unobserve(img);
                }
            }
        });
    });

    document.querySelectorAll('img[data-src]').forEach(img => {
        imageObserver.observe(img);
    });
}

lazyLoadImages();

// إضافة تفاعل لطيف للأزرار
document.querySelectorAll('.wp-block-button__link').forEach(button => {
    button.addEventListener('click', function(e) {
        // إضافة تأثير الموجة عند النقر
        const ripple = document.createElement('span');
        const rect = this.getBoundingClientRect();
        const size = Math.max(rect.width, rect.height);
        const x = e.clientX - rect.left - size / 2;
        const y = e.clientY - rect.top - size / 2;
        
        ripple.style.cssText = `
            position: absolute;
            width: ${size}px;
            height: ${size}px;
            left: ${x}px;
            top: ${y}px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            transform: scale(0);
            animation: ripple 0.6s linear;
            pointer-events: none;
        `;
        
        this.style.position = 'relative';
        this.style.overflow = 'hidden';
        this.appendChild(ripple);
        
        setTimeout(() => {
            ripple.remove();
        }, 600);
    });
});

// إضافة CSS للرسوم المتحركة
const style = document.createElement('style');
style.textContent = `
    @keyframes ripple {
        to {
            transform: scale(4);
            opacity: 0;
        }
    }
`;
document.head.appendChild(style);
</script>
<!-- /wp:html -->